## 변수와 메소드

### 선언위치에 따른 변수의 종류

* 변수는 인스턴스변수, 클래스변수, 지역변수 모두 세 종류가 있다.

* 변수의 종류를 결정짓는 중요한 요소는 **변수의 선언된 위치** 이므로 변수의 종류를 파악하기 위해서는 변수가 어느 영역에 선언되었는지를 확인하는 것이 중요하다.

* 멤버변수를 제외한 나머지 변수들은 모두 `지역변수`이며, 멤버변수 중 static이 붙은 것은 `클래스변수`이며, 붙지 않는 것은 `인스턴스변수`이다.

```java
class Variable {
    int iv;     // 인스턴스 변수
    static in cv;    // 클래스변수(static 변수, 공유변수)
    
    void method() {
        int lv = 0; // 지역변수
    }
}
```

![](/img/java-variable-and-method.png)

### 클래스변수와 인스턴스변수

[1] 인스턴스 변수(instance variable)

* 클래스 영역에 선언되며, 클래스의 인스턴스를 생성할 때 만들어진다.

* 인스턴스는 독립적인 저장공간을 가지므로 서로 다른 값을 가질 수 있다. 인스턴스마다 고유한 상태를 유지해야하는 속성의 경우, 인스턴스 변수로 선언한다.

[2] 클래스 변수(class variable)

* 클래스 변수를 선언하는 방법은 인스턴스변수 앞에 `static` 을 붙이기만 하면 된다. 클래스 변수는 인스턴스변수와 달리 **모든 인스턴스가 공동된 저장공간(변수)를 공유하게 된다.**

* 클래스 변수는 인스턴스를 생성하지 않고도 언제라도 바로 사용할 수 있는 특징이 있으며 `클래스이름.클래스변수` 와 같은 형식으로 사용한다.

* 클래스가 메모리에 `로딩(loading`될 때 생성되어 프로그램이 종료될 때까지 유지되며, public을 앞에 붙이면 같은 프로그램 내에서 어디서나 접근할 수 있는 `전역변수(global variable)`의 성격을 갖는다.

[3] 지역변수(local variable)

* 메소드 내에 선언되어 메소드 내에서만 사용 가능하며, 메소드가 종료되면 소멸되어 사용할 수 없게 된다.

> 인스턴스변수는 인스턴스가 생성될 때마다 생성되므로 인스턴스마다 각기 다른 값을 유지할 수 있지만, 클래스 변수는 모든 인스턴스가 하나의 저장공간을 공유하므로, 항상 공통된 값을 갖는다.

### 클래스 메소드와 인스턴스 메소드

* 클래스 메소드도 클래스변수처럼, 객체를 생성하지 않고도 `클래스이름.메소드이름` 와 같은 식으로 호출이 가능하다. 반면에 인스턴스 메소드는 반드시 객체를 생성해야만 호출할 수 있다.

* 그렇다면 클래스를 정의할 때, 어느 경우에 static을 사용해서 클래스 메소드로 정의해야하는 것일까?

* **인스턴스 메소드는 인스턴스 변수와 관련된 작업을 하는, 즉 메소드의 작업을 수행하는데 인스턴스 변수를 필요로 하는 메소드이다.**

* 반면에, 메소드 중에서 **인스턴스와 관계없는**(인스턴스 변수나 인스턴스 메소드를 사용하지 않는) **메소드를 클래스 메소드(static 메소드)로 정의한다.

* 클래스 메소드와 인스턴스 메소드를 구분하는 방법을 다음과 같은 식으로 정리했다.

1. 클래스를 설계할 때, 멤버변수 중 모든 인스턴스에 공통으로 사용하는 것에 static을 붙인다.

2. 클래스 변수는 인스턴스를 생성하지 않아도 사용할 수 있다.

3. 클래스 메소드는 인스턴스 변수를 사용할 수 없다.

4. 메소드 내에서 인스턴스 변수를 사용하지 않는다면, 성능 향상을 위해 static을 붙이는 것을 고려한다.

## Reference

* [Java의 정석](http://www.yes24.com/Product/Goods/24259565)